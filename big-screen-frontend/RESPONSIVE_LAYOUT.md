# 大屏显示模式配置说明

## 功能概述

big-screen-frontend现在支持两种显示模式：
1. **自适应模式**：根据屏幕尺寸自动调整布局，确保在不同设备上都有良好的显示效果
2. **固定模式**：按照指定尺寸显示，不会根据屏幕大小自动调整，适合固定尺寸的大屏设备

## 管理端配置

在管理端的"全局管理"页面中，新增了"大屏显示设置"模块，管理员可以：

### 显示模式选择
- **自适应模式**：大屏将根据实际屏幕尺寸自动调整布局
- **固定模式**：大屏将按照指定尺寸显示，不会根据屏幕大小自动调整

### 固定模式配置
当选择固定模式时，可以设置：
- **宽度**：800-3840像素
- **高度**：600-2160像素  
- **缩放**：50%-200%

## 技术实现

### 后端API
- `GET /api/config/screen/display-mode` - 获取显示模式
- `PUT /api/config/screen/display-mode` - 设置显示模式
- `GET /api/config/screen/fixed-config` - 获取固定模式配置
- `PUT /api/config/screen/fixed-config` - 设置固定模式配置

### 前端实现
- 大屏启动时自动获取配置
- 根据配置动态切换布局模式
- 固定模式使用CSS transform进行缩放
- 配置变更后自动刷新大屏显示

## 主要修改

### 1. Screen.tsx 主布局
- **原始固定布局**：使用 `gridTemplateColumns: '3fr 4fr 3fr'` 的固定比例
- **新的响应式布局**：使用 Tailwind CSS 的响应式类
  - `lg:grid-cols-10` - 大屏幕使用10列网格
  - `xl:grid-cols-12` - 超大屏幕使用12列网格
  - 左列：`lg:col-span-3 xl:col-span-3`
  - 中列：`lg:col-span-4 xl:col-span-6`
  - 右列：`lg:col-span-3 xl:col-span-3`
- **容器设置**：保持 `max-w-7xl` 限制，确保布局稳定性

### 2. 组件响应式调整

#### KPI组件
- 从 `grid-cols-3` 改为 `grid-cols-1 sm:grid-cols-3`
- 在小屏幕上单列显示，中等屏幕以上三列显示

#### ExcellentCarousel组件
- 从 `grid-cols-3` 改为 `grid-cols-1 sm:grid-cols-2 lg:grid-cols-3`
- 响应式显示优秀成果卡片

#### ProjectStats组件
- 从 `grid-cols-5` 改为 `grid-cols-3 sm:grid-cols-5`
- 在小屏幕上显示3列，中等屏幕以上显示5列

### 3. 组件内容优化

#### LabSpotlight组件
- 增加内边距：从 `p-3` 改为 `p-4`
- 增大标题字体：从默认改为 `text-lg`
- 优化内容间距：增加 `mb-3` 和 `gap-4`
- 改进文字大小：时间显示改为 `text-base`，课程信息改为 `text-sm`

#### ProjectList组件
- 增大标题字体：从默认改为 `text-lg`
- 增加项目间距：从 `space-y-2` 改为 `space-y-3`
- 优化项目卡片：增加内边距和悬停效果
- 改进文字大小：标题改为 `text-base`，副标题改为 `text-sm`

### 4. CSS响应式样式
在 `index.css` 中添加了媒体查询：
- `@media (max-width: 1024px)` - 平板布局
- `@media (max-width: 768px)` - 手机布局，单列显示
- `@media (max-width: 640px)` - 小屏幕热力图优化

## 屏幕尺寸适配

| 屏幕尺寸 | 布局方式 | 列数比例 | 说明 |
|---------|---------|----------|------|
| 超大屏幕 (≥1280px) | 12列网格 | 3:6:3 | 稳定版本，确保兼容性 |
| 大屏幕 (≥1024px) | 10列网格 | 3:4:3 | 稳定版本，确保兼容性 |
| 中等屏幕 (≥768px) | 10列网格 | 3:4:3 | 保持大屏幕比例 |
| 小屏幕 (<768px) | 单列布局 | 1:1:1 | 保持不变 |

## 如何切换回固定布局

原始固定布局代码已注释保存在 `Screen.tsx` 中：

```tsx
{/* 原始固定布局代码 - 已注释，方便后续切换回固定版本 */}
{/* 
<div className="grid gap-4" style={{ gridTemplateColumns: '3fr 4fr 3fr', height: 'calc(100vh - 72px)' }}>
  // ... 原始代码
</div>
*/}
```

要切换回固定布局：
1. 注释掉响应式布局代码
2. 取消注释原始固定布局代码
3. 移除响应式CSS样式（可选）

## 测试建议

1. **桌面端测试**：调整浏览器窗口大小，观察布局变化
2. **移动端测试**：使用浏览器开发者工具的设备模拟器
3. **平板测试**：测试中等屏幕尺寸的显示效果

## 注意事项

- 所有原始代码都已保留并注释，方便后续维护
- 响应式布局使用 Tailwind CSS 的断点系统
- 热力图在小屏幕上会自动调整字体大小
- 统计图在小屏幕上会减少列数以保持可读性
